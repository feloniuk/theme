/*
CMS elements
==============================================
Skin styling for cms elements
*/

.cms-element-product-listing {
	.listing-grid-layout {
		padding-right: $grid-gutter-width / 2;
		padding-left: $grid-gutter-width / 2;

		margin-bottom: $cms-element-product-listing-gutter-width;

		display: grid;
		gap: $cms-element-product-listing-gutter-width / 2;

		@include media-breakpoint-up(sm) {
			gap: $cms-element-product-listing-gutter-width;
		}

		// Базовая сетка - 1 колонка для мобильных
		grid-template-columns: 1fr;

		// 576px - 991px: 2 колонки
		@include media-breakpoint-up(sm) {
			grid-template-columns: repeat(2, 1fr);
		}

		// 992px - 1199px: 2 элемент (с меню)
		@include media-breakpoint-up(lg) {
			grid-template-columns: repeat(2, 1fr);
		}

		// 1200px - 1365px: 2 элемента (с меню)
		@include media-breakpoint-up(xl) {
			grid-template-columns: repeat(2, 1fr);
		}

		// 1366px - 1535px: 3 элемента
		@media screen and (min-width: 1366px) {
			grid-template-columns: repeat(3, 1fr);
		}

		// 1536px - 1799px: 4 элемента
		@media screen and (min-width: 1536px) {
			grid-template-columns: repeat(4, 1fr);
		}

		// 1800px+: 5 элементов
		@media screen and (min-width: 1800px) {
			grid-template-columns: repeat(5, 1fr);
		}

		&--offer {
			grid-template-columns: 1fr;
			gap: $cms-element-product-listing-gutter-width / 2;

			// 576px - 991px: 1 элемент
			@include media-breakpoint-up(sm) {
				grid-template-columns: repeat(1, 1fr);
			}

			// 992px - 1199px: 2 элемент (с меню)
			@include media-breakpoint-up(lg) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1200px - 1365px: 2 элемента (с меню)
			@include media-breakpoint-up(xl) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1366px - 1535px: 2 элемента
			@media screen and (min-width: 1366px) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1536px - 1799px: 3 элемента
			@media screen and (min-width: 1536px) {
				grid-template-columns: repeat(3, 1fr);
			}

			// 1800px+: 3 элемента
			@media screen and (min-width: 1800px) {
				grid-template-columns: repeat(3, 1fr);
			}
		}

		&--modern {
			grid-template-columns: 1fr;
			gap: $cms-element-product-listing-gutter-width / 2;

			// 576px - 991px: 2 элемента
			@include media-breakpoint-up(sm) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 992px - 1199px: 2 элемент (с меню)
			@include media-breakpoint-up(lg) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1200px - 1365px: 2 элемента (с меню)
			@include media-breakpoint-up(xl) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1366px - 1535px: 3 элемента
			@media screen and (min-width: 1366px) {
				grid-template-columns: repeat(3, 1fr);
			}

			// 1536px - 1799px: 4 элемента
			@media screen and (min-width: 1536px) {
				grid-template-columns: repeat(4, 1fr);
			}

			// 1800px+: 5 элементов
			@media screen and (min-width: 1800px) {
				grid-template-columns: repeat(5, 1fr);
				gap: $cms-element-product-listing-gutter-width;
			}

			.cms-listing-col {
				&::after {
					display: none;
				}
			}
		}
	}

	.cms-listing-col {
		padding: 0;
		margin: 0;
		position: relative;

		&.col-12 {
			padding: unset;
			margin: unset;
			grid-column: 1/-1;
		}

		&.wishlist-listing-col {
			margin-top: 5rem;
		}

		&:not(:last-child) {
			&::after {
				width: 100%;
				height: 1px;
				background-color: $color-theme-500;
				position: absolute;
				content: '';
				left: 0;
				bottom: -$cms-element-product-listing-gutter-width / 4;

				@include media-breakpoint-up(sm) {
					display: none;
				}
			}
		}
	}
}

.cms-section-sidebar-main-content {
	.cms-element-product-listing {
		.listing-grid-layout {
			// С боковой панелью breakpoints остаются как в основной логике
			// поскольку sidebar-main-content использует ту же логику
		}
	}
}

.cms-element-text {
	font-size: $font-size-md;

	blockquote {
		font-size: $font-size-lg;
		font-style: italic;
		line-height: 24px;
		margin-top: 16px;
		margin-left: 20px;
		position: relative;

		&::before {
			content: '"';
			font-size: 40px;
			line-height: 16px;
			color: $cms-element-text-quotes-color;
			position: absolute;
			top: 10px;
			left: -24px;
		}
	}
}

// Стили для случаев с боковой панелью (меню скрывается на 991px и ниже)
.with-sidebar {
	.listing-grid-layout {
		// 992px - 1199px: 2 элемент (с меню)
		@include media-breakpoint-up(lg) {
			grid-template-columns: repeat(2, 1fr);
		}

		// 1200px - 1365px: 2 элемента (с меню)
		@include media-breakpoint-up(xl) {
			grid-template-columns: repeat(2, 1fr);
		}

		// 1366px - 1535px: 3 элемента
		@media screen and (min-width: 1366px) {
			grid-template-columns: repeat(3, 1fr);
		}

		// 1536px - 1799px: 4 элемента
		@media screen and (min-width: 1536px) {
			grid-template-columns: repeat(4, 1fr);
		}

		// 1800px+: 5 элементов
		@media screen and (min-width: 1800px) {
			grid-template-columns: repeat(5, 1fr);
		}

		&--offer {
			// 992px - 1199px: 2 элемент (с меню)
			@include media-breakpoint-up(lg) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1200px - 1365px: 2 элемента (с меню)
			@include media-breakpoint-up(xl) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1366px - 1535px: 2 элемента
			@media screen and (min-width: 1366px) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1536px - 1799px: 3 элемента
			@media screen and (min-width: 1536px) {
				grid-template-columns: repeat(3, 1fr);
			}

			// 1800px+: 3 элемента
			@media screen and (min-width: 1800px) {
				grid-template-columns: repeat(3, 1fr);
			}
		}

		&--modern {
			// 992px - 1199px: 2 элемент (с меню)
			@include media-breakpoint-up(lg) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1200px - 1365px: 2 элемента (с меню)
			@include media-breakpoint-up(xl) {
				grid-template-columns: repeat(2, 1fr);
			}

			// 1366px - 1535px: 3 элемента
			@media screen and (min-width: 1366px) {
				grid-template-columns: repeat(3, 1fr);
			}

			// 1536px - 1799px: 4 элемента
			@media screen and (min-width: 1536px) {
				grid-template-columns: repeat(4, 1fr);
			}

			// 1800px+: 5 элементов
			@media screen and (min-width: 1800px) {
				grid-template-columns: repeat(5, 1fr);
			}
		}
	}
}